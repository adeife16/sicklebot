(function(){"use strict";var e={5430:function(e,t,a){var s=a(5130),o=a(6768);function r(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(a)}var n=a(1241);const l={},i=(0,n.A)(l,[["render",r]]);var d=i,u=a(1387);const c={class:"container"},g={class:"row-auto"},p={class:""},h={class:"card shadow mt-36 px-6"},m={class:"flex justify-center"},f=["src"];function v(e,t,a,s,r,n){const l=(0,o.g2)("Input"),i=(0,o.g2)("Button"),d=(0,o.g2)("Form"),u=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("div",g,[(0,o.Lk)("div",p,[(0,o.Lk)("div",h,[(0,o.bF)(d,{formClass:"py-4 "},{default:(0,o.k6)((()=>[(0,o.Lk)("div",m,[(0,o.Lk)("img",{src:s.logo,alt:"logo",class:"w-20"},null,8,f)]),(0,o.bF)(l,{type:"email",placeholder:"Email",modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),id:"email",inputClass:"ring-0"},null,8,["modelValue"]),(0,o.bF)(l,{type:"password",placeholder:"Password",modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),id:"password",inputClass:"ring-0"},null,8,["modelValue"]),(0,o.bF)(i,{text:"Login",type:"button",btnClass:"bg-orange w-full text-white font-bold py-2 rounded",disabled:s.btnDisabled,onClick:s.handleInput},null,8,["disabled","onClick"])])),_:1}),(0,o.bF)(u,{to:"/register",class:"orange"},{default:(0,o.k6)((()=>[(0,o.eW)("Register")])),_:1}),(0,o.bF)(u,{to:"/forgot",class:"orange float-right"},{default:(0,o.k6)((()=>[(0,o.eW)("Forgot password")])),_:1})])])])])}a(4114);var b=a.p+"img/logo.38998ab0.jpg",y=a(4232);function k(e,t,a,r,n,l){return(0,o.uX)(),(0,o.CE)("form",{onSubmit:t[0]||(t[0]=(0,s.D$)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"])),class:(0,y.C4)(["rounded",e.formClass])},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],34)}var w=(0,o.pM)({props:{formClass:{type:String,default:""}},setup(e,{emit:t}){const a=()=>{t("formSubmit")};return{handleSubmit:a}}});const x=(0,n.A)(w,[["render",k],["__scopeId","data-v-02bfd191"]]);var C=x;const I=["type","disabled"];function S(e,t,a,s,r,n){return(0,o.uX)(),(0,o.CE)("button",{class:(0,y.C4)(["py-2 px-4 rounded",e.btnClass]),type:e.type,disabled:e.btnDisabled,onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[(0,o.RG)(e.$slots,"icon",{},void 0,!0),(0,o.RG)(e.$slots,"default",{},(()=>[(0,o.eW)((0,y.v_)(e.text),1)]),!0)],10,I)}var L=(0,o.pM)({props:{text:{type:String,default:""},type:{type:String,default:"button"},btnDisabled:{type:Boolean,default:!1},btnClass:{type:String,default:""},color:{type:String,default:""}},methods:{handleClick(){this.$emit("btnClick")}}});const _=(0,n.A)(L,[["render",S],["__scopeId","data-v-768a228b"]]);var F=_;const A={class:"my-5"},R={class:"block text-gray-700 text-sm font-bold mb-2"},E=["type","id","placeholder","disabled","value"],M={key:0,class:"error-message"};function $(e,t,a,s,r,n){return(0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("label",R,(0,y.v_)(e.label),1),(0,o.Lk)("input",{type:e.type,class:(0,y.C4)(["py-2 px-4 rounded w-full",e.inputClass]),id:e.inputId,placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue,onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t))},null,42,E),e.error?((0,o.uX)(),(0,o.CE)("div",M,(0,y.v_)(e.error),1)):(0,o.Q3)("",!0)])}var V=(0,o.pM)({props:{type:{type:String,default:"text"},placeholder:{type:String,default:""},label:{type:String,default:""},inputClass:{type:String,default:""},inputId:{type:String,default:""},disabled:{type:Boolean,default:!1},modelValue:{type:String,default:""},error:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e=>{t("update:modelValue",e.target.value)};return{handleInput:a}}});const X=(0,n.A)(V,[["render",$],["__scopeId","data-v-09024b10"]]);var K=X,j=a(144),B=a(4373),P=a(4084),D={components:{Form:C,Button:F,Input:K},setup(){const e=(0,j.KR)(""),t=(0,j.KR)(""),a=(0,j.KR)(!1),s="http://localhost:8000/api/v1",r=async()=>{if(e.value&&t.value)try{const o=await B.A.post(`${s}/auth/login`,{login:{email:e.value,password:t.value}});200===o.status?(sessionStorage.setItem("userId",o.data.user.userId),sessionStorage.setItem("token",o.data.accessToken),P.oR.success(o.data.message),setTimeout((()=>{He.push("/chat")}),2e3)):(a.value=!1,P.oR.error(o.data.message))}catch(o){a.value=!1,P.oR.error(o.response?.data?.message||"An error occurred during login.")}else P.oR.error("Invalid Email and Password")};return(0,o.sV)((()=>{const e=sessionStorage.getItem("userId");e&&"undefined"!==e&&He.push("/chat")})),{logo:b,email:e,password:t,btnDisabled:a,handleInput:r}}};const T=(0,n.A)(D,[["render",v]]);var O=T;const U={class:"container"},N={class:"row-auto"},W={class:""},z={class:"card shadow mt-24 px-6"},Q=(0,o.Lk)("div",{class:"flex justify-center"},[(0,o.Lk)("p",{class:"text-3xl font-bold"},"Register")],-1);function G(e,t,a,s,r,n){const l=(0,o.g2)("Input"),i=(0,o.g2)("Button"),d=(0,o.g2)("Form"),u=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("div",N,[(0,o.Lk)("div",W,[(0,o.Lk)("div",z,[(0,o.bF)(d,{formClass:"py-4 "},{default:(0,o.k6)((()=>[Q,(0,o.bF)(l,{type:"text",placeholder:"First Name",modelValue:s.firstName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.firstName=e),id:"firstName",inputClass:"ring-0"},null,8,["modelValue"]),(0,o.bF)(l,{type:"text",placeholder:"Last Name",modelValue:s.lastName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.lastName=e),id:"lastName",inputClass:"ring-0"},null,8,["modelValue"]),(0,o.bF)(l,{type:"email",placeholder:"Email",modelValue:s.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.email=e),id:"email",inputClass:"ring-0"},null,8,["modelValue"]),(0,o.bF)(l,{type:"password",placeholder:"Password",modelValue:s.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),id:"password",inputClass:"ring-0"},null,8,["modelValue"]),(0,o.bF)(l,{type:"password",placeholder:"Confirm Password",modelValue:s.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=e=>s.confirmPassword=e),id:"confirmPassword",inputClass:"ring-0"},null,8,["modelValue"]),(0,o.bF)(i,{text:"Register",type:"button",btnClass:"bg-orange w-full text-white font-bold py-2 rounded",disabled:s.btnDisabled,onClick:s.handleInput},null,8,["disabled","onClick"])])),_:1}),(0,o.bF)(u,{to:"/login",class:"orange"},{default:(0,o.k6)((()=>[(0,o.eW)("Login")])),_:1})])])])])}var q={components:{Form:C,Button:F,Input:K},setup(){const e=(0,j.KR)(""),t=(0,j.KR)(""),a=(0,j.KR)(""),s=(0,j.KR)(""),o=(0,j.KR)(""),r=(0,j.KR)(!1),n="http://localhost:8000/api/v1",l=async()=>{if(s.value===o.value){r.value=!0;try{const l=await B.A.post(`${n}/auth/signup`,{register:{first_name:e.value,last_name:t.value,email:a.value,password:s.value,confirm_password:o.value}});200===l.status?(P.oR.success(l.data.message),setTimeout((()=>{He.push("/")}),2e3)):(P.oR.error(l.data.message),r.value=!1)}catch(l){console.log(l),r.value=!1,P.oR.error(l.response?.data?.message||"An error occurred during registration.")}}else P.oR.error("Passwords do not match")};return{firstName:e,lastName:t,email:a,password:s,confirmPassword:o,btnDisabled:r,handleInput:l}}};const H=(0,n.A)(q,[["render",G]]);var J=H;const Y={class:"flex h-screen bg-gray-100"},Z={class:"mx-auto max-w-md w-full bg-white rounded-lg shadow-md"},ee={key:0,class:"fixed inset-0 h-screen w-screen z-20 right-[-100%]"},te={class:"flex flex-col h-full p-4 bg-white rounded-lg shadow-md"},ae={class:"flex items-center justify-between"},se=(0,o.Lk)("h2",{class:"text-2xl font-bold"},"Menu",-1),oe={class:"text-black hover:text-orange-500"},re={class:"px-3 py-2 bg-gray-200 flex justify-between items-center"},ne={class:"flex flex-col chat-interface overflow-y-auto px-3 py-2"},le={class:"flex items-center"},ie={key:0},de={key:1},ue=["src"],ce={key:0,class:"flex justify-start py-2"},ge={class:"flex items-center"},pe={class:"rounded-lg p-3 max-w-xs text-white"},he=["src"],me={class:"flex items-center px-1 py-2 border-t border-gray-200"};function fe(e,t,a,r,n,l){const i=(0,o.g2)("XMarkIcon"),d=(0,o.g2)("Button"),u=(0,o.g2)("router-link"),c=(0,o.g2)("Bars3Icon"),g=(0,o.g2)("UserCircleIcon"),p=(0,o.g2)("PaperAirplaneIcon");return(0,o.uX)(),(0,o.CE)("div",Y,[(0,o.Lk)("div",Z,[r.menu?((0,o.uX)(),(0,o.CE)("div",ee,[(0,o.Lk)("div",te,[(0,o.Lk)("div",ae,[se,(0,o.bF)(d,{onClick:r.toggleMenu},{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"h-6 w-6"})])),_:1},8,["onClick"])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.history,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.chatId,class:"mt-4 space-y-2"},[(0,o.Lk)("div",oe,[(0,o.bF)(u,{to:`/chat/?chat_id=${e.chatId}`},{default:(0,o.k6)((()=>[(0,o.eW)(" Chat on "+(0,y.v_)(e.date),1)])),_:2},1032,["to"])])])))),128))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",re,[(0,o.bF)(d,{btnClass:"bg-orange-500 text-white",onClick:r.newChat},{default:(0,o.k6)((()=>[(0,o.eW)("New Chat")])),_:1},8,["onClick"]),(0,o.bF)(d,{class:"text-black",onClick:r.logout},{default:(0,o.k6)((()=>[(0,o.eW)("Logout")])),_:1},8,["onClick"]),(0,o.bF)(d,{class:"text-black-500",onClick:(0,s.D$)(r.toggleMenu,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"h-6 w-6"})])),_:1},8,["onClick"])]),(0,o.Lk)("div",ne,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.messages,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,y.C4)(["flex",e.user?"justify-end":"justify-start","py-2"])},[(0,o.Lk)("div",le,[(0,o.Lk)("div",{class:(0,y.C4)(["rounded-full h-8 w-8 mr-2",e.user?"bg-teal-500":"bg-orange-500"])},[e.user?((0,o.uX)(),(0,o.CE)("span",ie,[(0,o.bF)(g,{class:"h-8 w-8 text-white"})])):((0,o.uX)(),(0,o.CE)("span",de,[(0,o.Lk)("img",{src:r.logo,width:"30",height:"30"},null,8,ue)]))],2),(0,o.Lk)("div",{class:(0,y.C4)(["rounded-lg p-3 max-w-xs",e.user?"bg-teal-500 text-white":"bg-orange-500"])},(0,y.v_)(e.text),3)])],2)))),128)),r.loading?((0,o.uX)(),(0,o.CE)("div",ce,[(0,o.Lk)("div",ge,[(0,o.Lk)("div",pe,[(0,o.Lk)("img",{src:r.chatLoader,width:"100"},null,8,he)])])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",me,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.messageInput=e),type:"text",placeholder:"Type a message",class:"rounded-lg border border-gray-300 px-1 py-1"},null,512),[[s.Jo,r.messageInput]]),(0,o.bF)(d,{onClick:r.sendMessage,class:"rounded-lg bg-orange-500 text-white px-2 py-1",disabled:r.disabled},{default:(0,o.k6)((()=>[(0,o.bF)(p,{class:"h-6 w-6"})])),_:1},8,["onClick","disabled"])])])])}var ve=a(7573),be=a(3682),ye=a(8789),ke=a(2947),we=a.p+"img/logo.c710f9b7.png",xe=a.p+"img/chatLoader.6819ecfd.svg",Ce={components:{Button:F,Bars3Icon:ve.A,PaperAirplaneIcon:be.A,UserCircleIcon:ye.A,XMarkIcon:ke.A},props:["chatId"],setup(e){const t=(0,j.KR)(""),a=(0,j.KR)([]),s=(0,j.KR)(e.chatId),r=(0,j.KR)(!1),n=(0,j.KR)(!1),l=(0,j.KR)(!1),i=(0,j.KR)([]),d="http://localhost:8000/api/v1",u=async(e=null)=>{r.value=!0;const s=t.value;if(!s)return;const o={id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),text:s,user:!0};a.value.push(o);try{n.value=!0;const e=await B.A.post(`${d}/chat`,{chat:{prompt:s,chatId:sessionStorage.getItem("chatId")}},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});setTimeout((()=>{a.value.push(e.data.bot_res)}),2e3);const o=document.querySelector(".chat-interface");o.scrollTop=o.scrollHeight,t.value=""}catch(l){console.error(l),P.oR.error(l.response?.data?.message||"An error occurred while sending the message.")}n.value=!1,r.value=!1},c=async e=>{try{const t=`Bearer ${sessionStorage.getItem("token")}`;sessionStorage.setItem("chatId",e);const s=await B.A.get(`${d}/chat/${e}`,{headers:{Authorization:t}});let o=s.data.chat;if(0===s.data.chat.length)sessionStorage.removeItem("chatId"),He.push("/chat");else for(let e of o){let t={id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),text:e.user_msg,user:!0};a.value.push(t);let s={id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),text:e.bot_res,user:!1};a.value.push(s)}}catch(t){console.error(t),He.push("/chat")}},g=async()=>{try{const e=await B.A.get(`${d}/chat/history`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),t=e.data.chats;for(let a of t)i.value.push({chatId:a.chat_id,date:m(a.date_created.split("T")[0])})}catch(e){console.error(e),P.oR.error(e.response?.data?.message||"An error occurred while fetching the chat history.")}},p=()=>{l.value=!l.value},h=()=>{sessionStorage.removeItem("chatId"),a.value=[],He.push("/chat")},m=e=>{const t=new Date(e),a=t.getDate(),s=t.toLocaleString("default",{month:"long"}),o=t.getFullYear();return`${a} ${s} ${o}`},f=e=>{if("Enter"===e.key&&!e.shiftKey){if(e.preventDefault(),n.value)return;u()}},v=()=>{sessionStorage.clear(),He.push("/")};return(0,o.sV)((async()=>{sessionStorage.removeItem("chatId"),a.value=[];const e=sessionStorage.getItem("userId");e&&"undefined"!==e?(sessionStorage.setItem("chatId",s.value),await c(s.value),g(),window.addEventListener("keydown",f)):He.push("/")})),(0,o.hi)((()=>{window.removeEventListener("keydown",f)})),{messageInput:t,messages:a,sendMessage:u,logo:we,disabled:r,loading:n,chatLoader:xe,toggleMenu:p,menu:l,history:i,newChat:h,chatId:s,logout:v}}};const Ie=(0,n.A)(Ce,[["render",fe]]);var Se=Ie;const Le={class:"flex h-screen bg-gray-100"},_e={class:"mx-auto max-w-md w-full bg-white rounded-lg shadow-md"},Fe={key:0,class:"fixed inset-0 h-screen w-screen z-20 right-[-100%]"},Ae={class:"flex flex-col h-full p-4 bg-white rounded-lg shadow-md"},Re={class:"flex items-center justify-between"},Ee=(0,o.Lk)("h2",{class:"text-2xl font-bold"},"Menu",-1),Me={class:"text-black hover:text-orange-500"},$e={class:"px-3 py-2 bg-gray-200 flex justify-between items-center"},Ve={class:"flex flex-col chat-interface overflow-y-auto px-3 py-2"},Xe={class:"flex items-center"},Ke={key:0},je={key:1},Be=["src"],Pe={key:0,class:"flex justify-start py-2"},De={class:"flex items-center"},Te={class:"rounded-lg p-3 max-w-xs text-white"},Oe=["src"],Ue={class:"flex items-center px-1 py-2 border-t border-gray-200"};function Ne(e,t,a,r,n,l){const i=(0,o.g2)("XMarkIcon"),d=(0,o.g2)("Button"),u=(0,o.g2)("router-link"),c=(0,o.g2)("Bars3Icon"),g=(0,o.g2)("UserCircleIcon"),p=(0,o.g2)("PaperAirplaneIcon");return(0,o.uX)(),(0,o.CE)("div",Le,[(0,o.Lk)("div",_e,[r.menu?((0,o.uX)(),(0,o.CE)("div",Fe,[(0,o.Lk)("div",Ae,[(0,o.Lk)("div",Re,[Ee,(0,o.bF)(d,{onClick:r.toggleMenu},{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"h-6 w-6"})])),_:1},8,["onClick"])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.history,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.chatId,class:"mt-4 space-y-2"},[(0,o.Lk)("div",Me,[(0,o.bF)(u,{to:`/history/${e.chatId}`},{default:(0,o.k6)((()=>[(0,o.eW)(" Chat on "+(0,y.v_)(e.date),1)])),_:2},1032,["to"])])])))),128))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",$e,[(0,o.bF)(d,{btnClass:"bg-orange-500 text-white",onClick:r.newChat},{default:(0,o.k6)((()=>[(0,o.eW)("New Chat")])),_:1},8,["onClick"]),(0,o.bF)(d,{class:"text-black",onClick:r.logout},{default:(0,o.k6)((()=>[(0,o.eW)("Logout")])),_:1},8,["onClick"]),(0,o.bF)(d,{class:"text-black-500",onClick:(0,s.D$)(r.toggleMenu,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"h-6 w-6"})])),_:1},8,["onClick"])]),(0,o.Lk)("div",Ve,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.messages,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,y.C4)(["flex",e.user?"justify-end":"justify-start","py-2"])},[(0,o.Lk)("div",Xe,[(0,o.Lk)("div",{class:(0,y.C4)(["rounded-full h-8 w-8 mr-2",e.user?"bg-teal-500":"bg-orange-500"])},[e.user?((0,o.uX)(),(0,o.CE)("span",Ke,[(0,o.bF)(g,{class:"h-8 w-8 text-white"})])):((0,o.uX)(),(0,o.CE)("span",je,[(0,o.Lk)("img",{src:r.logo,width:"30",height:"30"},null,8,Be)]))],2),(0,o.Lk)("div",{class:(0,y.C4)(["rounded-lg p-3 max-w-xs",e.user?"bg-teal-500 text-white":"bg-orange-500"])},(0,y.v_)(e.text),3)])],2)))),128)),r.loading?((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.Lk)("div",De,[(0,o.Lk)("div",Te,[(0,o.Lk)("img",{src:r.chatLoader,width:"100"},null,8,Oe)])])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ue,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.messageInput=e),type:"text",placeholder:"Type a message",class:"rounded-lg border border-gray-300 px-1 py-1"},null,512),[[s.Jo,r.messageInput]]),(0,o.bF)(d,{onClick:r.sendMessage,class:"rounded-lg bg-orange-500 text-white px-2 py-1",disabled:r.disabled},{default:(0,o.k6)((()=>[(0,o.bF)(p,{class:"h-6 w-6"})])),_:1},8,["onClick","disabled"])])])])}var We={components:{Button:F,Bars3Icon:ve.A,PaperAirplaneIcon:be.A,UserCircleIcon:ye.A,XMarkIcon:ke.A},setup(){const e=(0,j.KR)(""),t=(0,j.KR)([]),a=(0,j.KR)(!1),s=(0,j.KR)(!1),r=(0,j.KR)(!1),n=(0,j.KR)([]),l="http://localhost:8000/api/v1",i=async(o=null)=>{a.value=!0;const r=e.value;if(!r)return;const n={id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),text:r,user:!0};t.value.push(n);try{s.value=!0;const a=await B.A.post(`${l}/chat`,{chat:{prompt:r,chatId:sessionStorage.getItem("chatId")}},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});setTimeout((()=>{t.value.push(a.data.bot_res)}),2e3);const o=document.querySelector(".chat-interface");o.scrollTop=o.scrollHeight,e.value=""}catch(i){console.error(i),P.oR.error(i.response?.data?.message||"An error occurred while sending the message.")}s.value=!1,a.value=!1},d=async()=>{try{const e=await B.A.get(`${l}/chat/init`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});sessionStorage.setItem("chatId",e.data.chat)}catch(e){console.error(e),P.oR.error(e.response?.data?.message||"An error occurred during chat initialization.")}},u=async()=>{try{const e=`Bearer ${sessionStorage.getItem("token")}`,a=sessionStorage.getItem("chatId"),s=await B.A.get(`${l}/chat/${a}`,{headers:{Authorization:e}});let o=s.data.chat;if(0===s.data.chat.length)await d();else for(let r of o){let e={id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),text:r.user_msg,user:!0};t.value.push(e);let a={id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),text:r.bot_res,user:!1};t.value.push(a)}}catch(e){console.error(e)}},c=async()=>{try{const e=await B.A.get(`${l}/chat/history`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),t=e.data.chats;for(let a of t)n.value.push({chatId:a.chat_id,date:h(a.date_created.split("T")[0])})}catch(e){console.error(e),P.oR.error(e.response?.data?.message||"An error occurred while fetching the chat history.")}},g=()=>{r.value=!r.value},p=()=>{sessionStorage.removeItem("chatId"),d(),t.value=[],He.push("/chat")},h=e=>{const t=new Date(e),a=t.getDate(),s=t.toLocaleString("default",{month:"long"}),o=t.getFullYear();return`${a} ${s} ${o}`},m=e=>{if("Enter"===e.key&&!e.shiftKey){if(e.preventDefault(),s.value)return;i()}},f=()=>{sessionStorage.clear(),He.push("/")};return(0,o.sV)((async()=>{const e=sessionStorage.getItem("userId");if(!e||"undefined"===e)return void He.push("/");const t=sessionStorage.getItem("chatId");t&&"undefined"!==t?u():d(),c(),window.addEventListener("keydown",m)})),(0,o.hi)((()=>{window.removeEventListener("keydown",m)})),{messageInput:e,messages:t,sendMessage:i,logo:we,disabled:a,loading:s,chatLoader:xe,toggleMenu:g,menu:r,history:n,newChat:p,logout:f}}};const ze=(0,n.A)(We,[["render",Ne]]);var Qe=ze;const Ge=[{path:"/",name:"login",component:O},{path:"/register",name:"register",component:J},{path:"/chat",name:"chat",component:Qe},{path:"/history/:chatId",name:"chatId",component:Se,props:!0}],qe=(0,u.aE)({history:(0,u.LA)("/"),routes:Ge});var He=qe,Je=a(3367);const Ye=(0,Je.Ey)();(0,s.Ef)(d).use(Ye).use(He).mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,r){if(!s){var n=1/0;for(u=0;u<e.length;u++){s=e[u][0],o=e[u][1],r=e[u][2];for(var l=!0,i=0;i<s.length;i++)(!1&r||n>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(l=!1,r<n&&(n=r));if(l){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,n=s[0],l=s[1],i=s[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(i)var u=i(a)}for(t&&t(s);d<n.length;d++)r=n[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},s=self["webpackChunksicklebot"]=self["webpackChunksicklebot"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(5430)}));s=a.O(s)})();
//# sourceMappingURL=app.871d37c2.js.map